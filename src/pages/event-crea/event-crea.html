
<ion-header>
    <ion-navbar>

        <ion-title>Crea evento</ion-title>
    </ion-navbar>
</ion-header>

<ion-content class="evento-crea" *ngIf="!show">
    <div style="background-color: #ffffff">
        <h2>Solo le associazioni possono inserire gli eventi.</h2>
    </div>

</ion-content>
<ion-content class="evento-crea" *ngIf="show">

    <br />

    <ion-list no-lines>

        <form #f="ngForm" (ngSubmit)="onSubmit(f.value)" novalidate>

        <div style="text-align: center;" (click)="chargeImage()">

            <ion-img id="logo" width="250" height="170" [src]="base64Image" >
                <input type="file"  [src]="base64Image" name="img" />

                <input type="hidden" [ngModel]="base64Image" name="img_evento" #img_evento="ngModel" />
            </ion-img>


        </div>
            <div *ngIf="show">
                <input type="hidden" [ngModel]="tipologia_" name="tipologia" ngModel
                       #tipologia="ngModel" />
                <input type="hidden" [ngModel]="partitaIVA" name="partitaiva" ngModel
                       #partitaiva="ngModel" />
                <input type="hidden" [ngModel]="nome_associazione_" name="nome_associazione" ngModel
                       #nome_associazione="ngModel" />
            </div>

            <div>
                <input type="text" placeholder="Nome Evento" name="nome" ngModel required #nome="ngModel"
                       minlength="2" />
            </div>
            <!-- Errors nome -->
            <div *ngIf="nome.errors?.required && nome.touched" class="error">
                Il nome è richiesto.
            </div>
            <div *ngIf="nome.errors?.minlength && nome.touched" class="error">
                Minimo 2 caratteri.
            </div>
            <!-- -->

            <div>
                <select  name="categoria" ngModel required #categoria="ngModel">
                    <option value="{{categoria.nome}}"  *ngFor="let categoria of categorie">
                        {{categoria.nome}}
                    </option>
                </select>
            </div>
            <!-- Errors categoria -->
            <div *ngIf="categoria.errors?.required && categoria.touched" class="error">
                La categoria è richiesta.
            </div>
            <!-- -->

            <div>
                <input type="text" placeholder="Luogo" name="luogo"  ngModel required  #luogo="ngModel"/>
            </div>
            <!-- Errors luogo -->
            <div *ngIf="luogo.errors?.required && luogo.touched" class="error">
                Il luogo è richiesto.
            </div>
            <div *ngIf="luogo.errors?.minlength && luogo.touched" class="error">
                Minimo 2 caratteri.
            </div>
            <!-- -->

            <div id="data-ora">
                <input type="date" name="data" ngModel required #data="ngModel"/>
            </div>
            <!-- Errors data-ora -->
            <div *ngIf="data.errors?.required && data.touched" class="error">
                La data è richiesta.
            </div>

            <div id="data-ora" >
                <input type="time" name="ora" value="--:--" #ora ngModel required #ora="ngModel"/>
            </div>
            <!-- Errors ora -->
            <div *ngIf="ora.errors?.required && ora.touched" class="error">
                L'ora è richiesta.
            </div>
            <!-- -->

            <div>
                <textarea cols="20" rows="5" placeholder="Descrizione" name="descrizione" #descrizione="ngModel"
                          ngModel
                          required></textarea>
            </div>
            <!-- Errors descrizione -->
            <div *ngIf="descrizione.errors?.required && descrizione.touched" class="error">
                La descrizione è richiesta.
            </div>
            <!-- -->

            <div>
                <input type="text" name="hashtag" placeholder="Hashtag" #hashtag="ngModel" ngModel required/>
            </div>
            <!-- Errors hashtag -->
            <div *ngIf="hashtag.errors?.required && hashtag.touched" class="error">
                L'hashtag è richiesta.
            </div>
            <!-- -->

            <div>
                <button ion-button id="invia"  [disabled]="f.invalid">Invia</button>

        </div>

        </form>

    </ion-list>

</ion-content>
